<!doctype html>
<html lang="zh-CN">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Modern XyButton Demo</title>
        <style>
            body {
                font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
                max-width: 1200px;
                margin: 0 auto;
                padding: 2rem;
                background: #f8fafc;
                color: #1e293b;
                line-height: 1.6;
            }
            .demo-section {
                background: white;
                padding: 2rem;
                margin: 1rem 0;
                border-radius: 12px;
                box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1);
            }
            .demo-section h2 {
                margin-top: 0;
                color: #1e293b;
                font-size: 1.5rem;
                font-weight: 600;
            }
            .demo-section h3 {
                color: #64748b;
                font-size: 1rem;
                font-weight: 500;
                margin: 1.5rem 0 0.5rem 0;
            }
            .button-grid {
                display: grid;
                grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
                gap: 1rem;
                margin: 1rem 0;
            }
            .button-row {
                display: flex;
                gap: 0.5rem;
                flex-wrap: wrap;
                align-items: center;
                margin: 0.5rem 0;
            }
            .code-block {
                background: #f1f5f9;
                padding: 1rem;
                border-radius: 6px;
                font-family: "Monaco", "Menlo", monospace;
                font-size: 0.875rem;
                overflow-x: auto;
                margin: 1rem 0;
            }
            .status {
                position: fixed;
                top: 1rem;
                right: 1rem;
                background: #10b981;
                color: white;
                padding: 0.5rem 1rem;
                border-radius: 6px;
                font-size: 0.875rem;
                z-index: 1000;
            }
            .error {
                background: #ef4444;
            }
        </style>
    </head>
    <body>
        <div id="status" class="status">🚀 服务器运行中 - http://localhost:3000</div>

        <h1>🎨 Modern XyButton Component</h1>
        <p>一个现代化的按钮组件，具有语义化设计、无障碍访问和响应式布局。</p>

        <div class="demo-section">
            <h2>📋 组件特性</h2>
            <ul>
                <li><strong>6种变体</strong> - Primary, Secondary, Outline, Ghost, Danger, Link</li>
                <li><strong>3种尺寸</strong> - Small, Medium, Large</li>
                <li><strong>完整状态</strong> - Normal, Hover, Active, Disabled, Loading</li>
                <li><strong>图标支持</strong> - 左侧/右侧图标，SVG动画加载器</li>
                <li><strong>布局选项</strong> - Block, Rounded</li>
                <li><strong>无障碍访问</strong> - 键盘导航，ARIA支持</li>
                <li><strong>响应式设计</strong> - 移动端适配，高对比度模式</li>
            </ul>
        </div>

        <div class="demo-section">
            <h2>🔧 技术实现</h2>
            <div class="code-block">
                // 组件结构 @autoRegister({ tagName: "xy-button" }) export default class XyButton
                extends WebComponent { // 基础属性 private disabled: boolean = false; private
                loading: boolean = false; // 按钮类型 private variant: string = "primary"; private
                size: string = "md"; // 表单属性 private type: string = "button"; // 图标和内容
                private icon: string | null = null; private iconPosition: string = "left"; // 布局
                private block: boolean = false; private rounded: boolean = false; }
            </div>
        </div>

        <div class="demo-section">
            <h2>🎨 CSS 架构</h2>
            <div class="code-block">
                /* 使用 BEM 命名规范和 CSS 自定义属性 */ .xy-button { --xy-button-primary-bg:
                #3b82f6; --xy-button-border-radius: 0.5rem; --xy-button-transition: all 0.2s
                cubic-bezier(0.4, 0, 0.2, 1); } .xy-button--primary { /* 变体样式 */ }
                .xy-button--sm { /* 尺寸样式 */ } .xy-button--disabled { /* 状态样式 */ }
            </div>
        </div>

        <div class="demo-section">
            <h2>📱 使用示例</h2>

            <h3>基础用法</h3>
            <div class="code-block">
                &lt;xy-button variant="primary"&gt;Primary Button&lt;/xy-button&gt; &lt;xy-button
                variant="secondary"&gt;Secondary Button&lt;/xy-button&gt; &lt;xy-button
                variant="danger"&gt;Delete&lt;/xy-button&gt;
            </div>

            <h3>图标按钮</h3>
            <div class="code-block">
                &lt;xy-button icon="🚀" variant="primary"&gt;Launch&lt;/xy-button&gt; &lt;xy-button
                icon="→" icon-position="right" variant="primary"&gt;Next&lt;/xy-button&gt;
                &lt;xy-button icon="⚙️" variant="ghost"&gt;&lt;/xy-button&gt;
            </div>

            <h3>状态按钮</h3>
            <div class="code-block">
                &lt;xy-button loading variant="primary"&gt;Loading...&lt;/xy-button&gt;
                &lt;xy-button disabled variant="primary"&gt;Disabled&lt;/xy-button&gt; &lt;xy-button
                active variant="primary"&gt;Active&lt;/xy-button&gt;
            </div>

            <h3>布局按钮</h3>
            <div class="code-block">
                &lt;xy-button block variant="primary"&gt;Full Width&lt;/xy-button&gt; &lt;xy-button
                rounded variant="primary"&gt;Rounded&lt;/xy-button&gt;
            </div>
        </div>

        <div class="demo-section">
            <h2>🎯 主题定制</h2>
            <div class="code-block">
                /* CSS 变量系统 */ :host { /* 颜色系统 */ --xy-button-primary-bg: #3b82f6;
                --xy-button-primary-hover-bg: #2563eb; --xy-button-primary-color: #ffffff; /*
                尺寸系统 */ --xy-button-sm-padding: 0.5rem 0.75rem; --xy-button-md-padding: 0.75rem
                1rem; --xy-button-lg-padding: 1rem 1.5rem; /* 视觉效果 */ --xy-button-border-radius:
                0.5rem; --xy-button-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1); --xy-button-transition:
                all 0.2s cubic-bezier(0.4, 0, 0.2, 1); }
            </div>
        </div>

        <div class="demo-section">
            <h2>♿ 无障碍访问</h2>
            <ul>
                <li><strong>键盘导航</strong> - 支持 Enter 和 Space 键激活</li>
                <li><strong>ARIA 属性</strong> - 完整的屏幕阅读器支持</li>
                <li><strong>焦点管理</strong> - 清晰的焦点指示器</li>
                <li><strong>语义化标签</strong> - 正确的 HTML 结构</li>
            </ul>
        </div>

        <div class="demo-section">
            <h2>📱 响应式设计</h2>
            <ul>
                <li><strong>移动端适配</strong> - 自动调整尺寸和间距</li>
                <li><strong>高对比度模式</strong> - 支持用户偏好设置</li>
                <li><strong>减少动画</strong> - 尊重用户的可访问性偏好</li>
                <li><strong>打印样式</strong> - 完整的打印支持</li>
            </ul>
        </div>

        <div class="demo-section">
            <h2>⚡ 性能优化</h2>
            <ul>
                <li><strong>轻量级实现</strong> - 使用原生 Web Components</li>
                <li><strong>零运行时依赖</strong> - 最小化包体积</li>
                <li><strong>CSS 优化</strong> - 使用 CSS 自定义属性</li>
                <li><strong>事件优化</strong> - 事件委托和内存管理</li>
            </ul>
        </div>

        <div class="demo-section">
            <h2>🌐 浏览器支持</h2>
            <ul>
                <li>Chrome 67+</li>
                <li>Firefox 63+</li>
                <li>Safari 11.1+</li>
                <li>Edge 79+</li>
            </ul>
        </div>

        <script>
            // 检查服务器状态
            fetch("/")
                .then((response) => {
                    if (response.ok) {
                        document.getElementById("status").textContent = "✅ 服务器运行正常";
                    }
                })
                .catch((error) => {
                    document.getElementById("status").textContent = "❌ 服务器连接失败";
                    document.getElementById("status").classList.add("error");
                });

            // 添加一些交互效果
            document.addEventListener("DOMContentLoaded", function () {
                console.log("🎨 Modern XyButton Demo loaded successfully!");

                // 添加代码块复制功能
                const codeBlocks = document.querySelectorAll(".code-block");
                codeBlocks.forEach((block) => {
                    block.style.cursor = "pointer";
                    block.title = "点击复制代码";

                    block.addEventListener("click", function () {
                        const text = this.textContent;
                        navigator.clipboard.writeText(text).then(() => {
                            const originalText = this.textContent;
                            this.textContent = "✅ 代码已复制到剪贴板";
                            setTimeout(() => {
                                this.textContent = originalText;
                            }, 2000);
                        });
                    });
                });
            });
        </script>
    </body>
</html>
